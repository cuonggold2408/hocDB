<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.1/css/bootstrap.min.css"
      integrity="sha512-Ez0cGzNzHR1tYAv56860NLspgUGuQw16GiOOp/I2LuTmpSK9xDXlgJz3XN4cnpXWDmkNBKXR/VDMTCnAaEooxA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title><%= title %></title>
  </head>
  <body>
    <h1 class="text-center mt-4">Đổi mật khẩu</h1>
    <form action="" method="POST">
      <div class="container" style="max-width: 700px">
        <% if (req.errors && Object.keys(req.errors).length > 0 &&
        (req.errors.email !== "Email không tồn tại" || req.errors.password !==
        "Mật khẩu không đúng") ) { %>
        <p class="alert alert-danger">Vui lòng nhập đầy đủ thông tin</p>
        <% } %>
        <div class="d-flex flex-column">
          <label for="" class="fs-4">Email</label>
          <input
            type="email"
            name="email"
            placeholder="Email..."
            class="form-control p-2 mt-1 rounded border"
            value="<%= req.old.email %>"
          />
          <span class="text-danger"> <%= req.errors.email %> </span>
        </div>
        <div class="d-flex flex-column mt-3">
          <label for="" class="fs-4">Mật khẩu cũ</label>
          <input
            type="password"
            name="passwordOld"
            placeholder="Mật khẩu cũ..."
            class="form-control p-2 mt-1 rounded border"
          />
          <span class="text-danger"> <%= req.errors.passwordOld %> </span>

          <% if ( !req.errors.passwordOld ) { %>
          <span class="text-danger"> <%= req.errors.password %> </span>
          <% } %>
        </div>
        <div class="d-flex flex-column mt-3">
          <label for="" class="fs-4">Mật khẩu mới</label>
          <input
            type="password"
            placeholder="Mật khẩu mới..."
            name="passwordNew"
            class="form-control p-2 mt-1 rounded border"
            autocomplete="on"
          />
          <span class="text-danger"> <%= req.errors.passwordNew %> </span>

          <% if ( !req.errors.passwordNew ) { %>
          <span class="text-danger"> <%= req.errors.password %> </span>
          <% } %>
        </div>
        <div class="d-flex flex-column mt-3">
          <label for="" class="fs-4">Nhập lại mật khẩu mới</label>
          <input
            type="password"
            name="passwordConfirm"
            placeholder="Nhập lại mật khẩu mới..."
            class="form-control p-2 mt-1 rounded border"
          />
          <span class="text-danger"> <%= req.errors.passwordConfirm %> </span>

          <% if ( !req.errors.passwordConfirm ) { %>
          <span class="text-danger"> <%= req.errors.password %> </span>
          <% } %>
        </div>

        <div class="d-flex">
          <a href="/login" class="btn btn-info mt-3 flex-grow-1 me-3"
            >Về trang đăng nhập
          </a>
          <button class="btn btn-primary mt-3 margin flex-grow-1">
            Xác nhận
          </button>
        </div>
      </div>
    </form>
  </body>
</html>
